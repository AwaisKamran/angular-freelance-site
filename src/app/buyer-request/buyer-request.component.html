<div class="buyer-request-container">
    <div class="inner-container">
        <div class="request-heading">
            <i class="fa fa-arrow-circle-o-left green-icon" aria-hidden="true" (click)="navigateToDashboard()"></i>
            Buyer Requests
        </div>

        <div class="buyer-request-list">
            <div class="buyer-request-tab" *ngFor="let order of orderList">
                <div class="profile-picture float-left" (click)="navigateToUserProfile(order.orderCreatedBy)" [ngStyle]="{ 'background-image': getUserImage(order.orderCreatedBy)}"></div>
                <div class="profile-name float-left" (click)="navigateToUserProfile(order.orderCreatedBy)">{{ order.userName }}</div>
                <div class="clear-both"></div>

                <div class="buyer-request-tab-description">
                    <span class="title">Category</span> <span class="badge badge-secondary badge-green">{{ order.categoryName }}</span>
                    <div class="description">{{ order.orderInstructions }}</div><br />
                    <div class="price-tag">
                        <i class="fa fa-tag green-icon small-font" aria-hidden="true"></i> {{ currencySymbol }} {{ order.budget }}
                    </div>
                    <div class="time-required">
                        <i class="fa fa-clock-o green-icon small-font" aria-hidden="true"></i> {{ order.hoursRequired }} hours
                    </div><br />
                    <button [disabled]='order.bidUser && order.bidUser !== "0"' type="button" class="btn btn-outline-success" (click)="onOpenDialog(order.id, order.categoryId)">Send Your
                        Bid</button>
                </div>
            </div>

            <div *ngIf="orderList.length === 0" class="no-data-available mt-3">
                No Data Available
            </div>
        </div>
    </div>
</div>

<div class="overlay" *ngIf="dialogOpened"></div>
<div class="dialog-container" *ngIf="dialogOpened">
    <div class="cross-icon" (click)="toggleDialog()"><i class="fa fa-times" aria-hidden="true"></i></div>

    <div *ngIf="dialogSuccess" class="alert alert-success" role="alert">
        Congratulations, your bid is created and posted!
    </div>

    <div *ngIf="dialogError" class="alert alert-danger" role="alert">
        Error! There was an internal server error.
    </div>

    <div class="bid-heading">Create your bid</div><br />

    <textarea [(ngModel)]="data.bidDescription" class="text-area form-control" placeholder="Pitch your services here" rows="5"></textarea><br/>

    <div class="form-group">
        <label for="timeRequired">
            <div class="float-left">Select Service</div>
            <div *ngIf="loadingServices" class="spinner-border spinner-border-sm text-success float-left spinner-small" role="status">
                <span class="sr-only">Loading...</span>
            </div>
            <div class="clear-both"></div>
        </label>
        <select class="form-control" [(ngModel)]="data.serviceId">
            <option value="-1">Select Your Service</option>
            <option *ngFor="let service of services" [value]="service.id">{{ service.title }}</option>
        </select>
    </div>

    <div class="form-group">
        <label for="timeRequired">Time Required</label>
        <input type="text" [(ngModel)]="data.timeRequired" class="form-control" id="timeRequired" placeholder="Enter the time here">
        <small class="form-text text-muted">The proposed time is specified in hours and should be a whole number or a decimal number.</small>
    </div>

    <div class="form-group">
        <label for="proposedBudget">Proposed Budget</label>
        <input type="text" [(ngModel)]="data.proposedBudget" class="form-control" id="proposedBudget" placeholder="Enter the budget here">
        <small class="form-text text-muted">All the budget proposed are in {{ currency }} Pound ({{ currencySymbol }}).</small>
    </div>

    <button class="btn btn-block btn-outline-success btn-style" (click)="submitBid()">Submit Bid</button>
</div>